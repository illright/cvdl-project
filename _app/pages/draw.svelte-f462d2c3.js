import{S as L,i as k,s as z,B as d,M as V,N as Y,a as D,d as g,O as x,f as h,p as y,K as p,P as B,e as G,j as _,k as R,c as I,m as v,n as j,b as K,o as $,F as U,x as w,u as M,v as b,A as W,X,U as N,V as O,a1 as J,W as S}from"../chunks/vendor-4fd8af32.js";import{C as Q,T as Z,A as q,B as ee,a as F,e as te,t as ae,g as ne}from"../chunks/action-28bbd5ea.js";import{d as re,o as se,u as ie}from"../chunks/classes-ea0002a8.js";import"../chunks/singletons-12a22614.js";function oe(r){let e,s='<path d="M4 21a1 1 0 0 0 .24 0l4-1a1 1 0 0 0 .47-.26L21 7.41a2 2 0 0 0 0-2.82L19.42 3a2 2 0 0 0-2.83 0L4.3 15.29a1.06 1.06 0 0 0-.27.47l-1 4A1 1 0 0 0 3.76 21A1 1 0 0 0 4 21zM18 4.41L19.59 6L18 7.59L16.42 6zM5.91 16.51L15 7.41L16.59 9l-9.1 9.1l-2.11.52z" fill="currentColor"/>',t=[{width:"1.2em"},{height:"1.2em"},{preserveAspectRatio:"xMidYMid meet"},{viewBox:"0 0 24 24"},r[0]],i={};for(let a=0;a<t.length;a+=1)i=d(i,t[a]);return{c(){e=V("svg"),this.h()},l(a){e=Y(a,"svg",{width:!0,height:!0,preserveAspectRatio:!0,viewBox:!0});var o=D(e);o.forEach(g),this.h()},h(){x(e,i)},m(a,o){h(a,e,o),e.innerHTML=s},p(a,[o]){x(e,i=y(t,[{width:"1.2em"},{height:"1.2em"},{preserveAspectRatio:"xMidYMid meet"},{viewBox:"0 0 24 24"},o&1&&a[0]]))},i:p,o:p,d(a){a&&g(e)}}}function le(r,e,s){return r.$$set=t=>{s(0,e=d(d({},e),B(t)))},e=B(e),[e]}class ue extends L{constructor(e){super();k(this,e,le,oe,z,{})}}function ce(r){let e,s='<path d="M20.978 13.21a1 1 0 0 0-.396-1.024l-14-10a.999.999 0 0 0-1.575.931l2 17a1 1 0 0 0 1.767.516l3.612-4.416l3.377 5.46l1.701-1.052l-3.357-5.428l6.089-1.218a.995.995 0 0 0 .782-.769zm-8.674.31a1 1 0 0 0-.578.347l-3.008 3.677L7.257 5.127l10.283 7.345l-5.236 1.048z" fill="currentColor"/>',t=[{width:"1.2em"},{height:"1.2em"},{preserveAspectRatio:"xMidYMid meet"},{viewBox:"0 0 24 24"},r[0]],i={};for(let a=0;a<t.length;a+=1)i=d(i,t[a]);return{c(){e=V("svg"),this.h()},l(a){e=Y(a,"svg",{width:!0,height:!0,preserveAspectRatio:!0,viewBox:!0});var o=D(e);o.forEach(g),this.h()},h(){x(e,i)},m(a,o){h(a,e,o),e.innerHTML=s},p(a,[o]){x(e,i=y(t,[{width:"1.2em"},{height:"1.2em"},{preserveAspectRatio:"xMidYMid meet"},{viewBox:"0 0 24 24"},o&1&&a[0]]))},i:p,o:p,d(a){a&&g(e)}}}function fe(r,e,s){return r.$$set=t=>{s(0,e=d(d({},e),B(t)))},e=B(e),[e]}class ge extends L{constructor(e){super();k(this,e,fe,ce,z,{})}}function me(r){let e,s='<path d="M5 20a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V8h2V6h-4V4a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v2H3v2h2zM9 4h6v2H9zM8 8h9v12H7V8z" fill="currentColor"/><path d="M9 10h2v8H9zm4 0h2v8h-2z" fill="currentColor"/>',t=[{width:"1.2em"},{height:"1.2em"},{preserveAspectRatio:"xMidYMid meet"},{viewBox:"0 0 24 24"},r[0]],i={};for(let a=0;a<t.length;a+=1)i=d(i,t[a]);return{c(){e=V("svg"),this.h()},l(a){e=Y(a,"svg",{width:!0,height:!0,preserveAspectRatio:!0,viewBox:!0});var o=D(e);o.forEach(g),this.h()},h(){x(e,i)},m(a,o){h(a,e,o),e.innerHTML=s},p(a,[o]){x(e,i=y(t,[{width:"1.2em"},{height:"1.2em"},{preserveAspectRatio:"xMidYMid meet"},{viewBox:"0 0 24 24"},o&1&&a[0]]))},i:p,o:p,d(a){a&&g(e)}}}function de(r,e,s){return r.$$set=t=>{s(0,e=d(d({},e),B(t)))},e=B(e),[e]}class he extends L{constructor(e){super();k(this,e,de,me,z,{})}}function pe(r){let e,s,t,i,a,o,l,c,f,u;e=new q({props:{actionName:"Go to the home page",icon:ee}}),e.$on("click",r[4]);function C(n){r[5](n)}let A={toolName:"Draw",icon:ue};r[1]!==void 0&&(A.group=r[1]),t=new F({props:A}),N.push(()=>O(t,"group",C));function H(n){r[6](n)}let T={toolName:"Select",icon:ge};return r[1]!==void 0&&(T.group=r[1]),o=new F({props:T}),N.push(()=>O(o,"group",H)),f=new q({props:{actionName:"Clear canvas",icon:he}}),f.$on("click",function(){J(r[0].clear)&&r[0].clear.apply(this,arguments)}),{c(){_(e.$$.fragment),s=R(),_(t.$$.fragment),a=R(),_(o.$$.fragment),c=R(),_(f.$$.fragment)},l(n){v(e.$$.fragment,n),s=j(n),v(t.$$.fragment,n),a=j(n),v(o.$$.fragment,n),c=j(n),v(f.$$.fragment,n)},m(n,m){$(e,n,m),h(n,s,m),$(t,n,m),h(n,a,m),$(o,n,m),h(n,c,m),$(f,n,m),u=!0},p(n,m){r=n;const E={};!i&&m&2&&(i=!0,E.group=r[1],S(()=>i=!1)),t.$set(E);const P={};!l&&m&2&&(l=!0,P.group=r[1],S(()=>l=!1)),o.$set(P)},i(n){u||(w(e.$$.fragment,n),w(t.$$.fragment,n),w(o.$$.fragment,n),w(f.$$.fragment,n),u=!0)},o(n){M(e.$$.fragment,n),M(t.$$.fragment,n),M(o.$$.fragment,n),M(f.$$.fragment,n),u=!1},d(n){b(e,n),n&&g(s),b(t,n),n&&g(a),b(o,n),n&&g(c),b(f,n)}}}function _e(r){let e,s,t,i,a,o={};return s=new Q({props:o}),r[2](s),s.$on("object-drawn",r[3]),i=new Z({props:{$$slots:{default:[pe]},$$scope:{ctx:r}}}),{c(){e=G("div"),_(s.$$.fragment),t=R(),_(i.$$.fragment),this.h()},l(l){e=I(l,"DIV",{class:!0});var c=D(e);v(s.$$.fragment,c),t=j(c),v(i.$$.fragment,c),c.forEach(g),this.h()},h(){K(e,"class","w-full h-screen relative")},m(l,c){h(l,e,c),$(s,e,null),U(e,t),$(i,e,null),a=!0},p(l,[c]){const f={};s.$set(f);const u={};c&131&&(u.$$scope={dirty:c,ctx:l}),i.$set(u)},i(l){a||(w(s.$$.fragment,l),w(i.$$.fragment,l),a=!0)},o(l){M(s.$$.fragment,l),M(i.$$.fragment,l),a=!1},d(l){l&&g(e),r[2](null),b(s),b(i)}}}function ve(r,e,s){let t,i="Draw";W(()=>{t!==void 0&&se(t.addPredictedObject)}),X(()=>{t!==void 0&&ie(t.addPredictedObject)});function a(u){N[u?"unshift":"push"](()=>{t=u,s(0,t)})}const o=async({detail:{object:u,fabricOffScreen:C}})=>{const A=await te(u,C);if(A!==null){const[H,T,n]=A;re.predict(H,n,ae(u))}},l=()=>ne("/draw-ill-help/");function c(u){i=u,s(1,i)}function f(u){i=u,s(1,i)}return r.$$.update=()=>{r.$$.dirty&3&&(t==null||t.setDrawingMode(i==="Draw"))},[t,i,a,o,l,c,f]}class $e extends L{constructor(e){super();k(this,e,ve,_e,z,{})}}function we(r){let e,s;return e=new $e({}),{c(){_(e.$$.fragment)},l(t){v(e.$$.fragment,t)},m(t,i){$(e,t,i),s=!0},p,i(t){s||(w(e.$$.fragment,t),s=!0)},o(t){M(e.$$.fragment,t),s=!1},d(t){b(e,t)}}}class Ae extends L{constructor(e){super();k(this,e,null,we,z,{})}}export{Ae as default};
